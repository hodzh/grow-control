<mat-accordion>
  <mat-expansion-panel *ngFor="let program of programs$ | async; let index = index; trackBy: trackByIndex">
    <mat-expansion-panel-header>
      <mat-panel-title>
        #{{index + 1}}
      </mat-panel-title>
      <mat-panel-description>
        {{(names$ | async)[index]}}
      </mat-panel-description>
    </mat-expansion-panel-header>
    <ng-template matExpansionPanelContent>
      <app-program
        [program]="program"
        [name]="(names$ | async)[index]"
        [compotes]="compotes$ | async"
        [valves]="valves"
        (programChange)="onChange(index, $event)"
        (nameChange)="onNameChange(index, $event)"
      ></app-program>
    </ng-template>
  </mat-expansion-panel>
</mat-accordion>
